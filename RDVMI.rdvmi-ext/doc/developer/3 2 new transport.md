## Добавление нового механизма обмена
### Существующие
1. HTTP сервисы
2. RabbitMQ
### Добавление нового
- добавить новый тип в `Перечисления.рдв_ТипыВнешнихСистем`
- создать новый общий модуль `рдв_ИнтеграцияНовый[НовыйМеханизмИнтеграции]`
- добавить программный интерфейс в новый модуль (примеры - `рдв_ИнтеграцияRMQ, рдв_ИнтеграцияHTTP`):

```
// см. рдв_ИнтеграцияRMQ.ОписаниеИнтеграции
// Служебный метод позволяет получить интерфейс и вид сообщения
Функция ОписаниеИнтеграции(ТипВнешнейСистемы, КлючМаршрутизации) Экспорт

// см. рдв_ИнтеграцияRMQ.ДинамическиеНастройкиИтеграцииОписание
// позволяет задать специфичные настройки интеграции
// указанные параметры будут доступны в режиме 1с предприятие
// в меню "Дополнительные настройки" справочника рдв_ВнешниеСистемы
Функция ДинамическиеНастройкиИтеграцииОписание() Экспорт
// ПараметрыИтеграции = Новый Структура;
// ЗначениеПоУмолчанию = "admin";
// ИмяПараметра = "Логин";
// рдв_Интеграция.ИнтеграцияДобавитьОписаниеПараметра(ПараметрыИтеграции, ИмяПараметра, ОбщегоНазначения.ОписаниеТипаСтрока(100), ЗначениеПоУмолчанию);
// Возрат ПараметрыИтеграции;

// см. рдв_ИнтеграцияRMQ.СоединениеОткрыть
// Может использоваться для брокеров. Для того чтобы не создавать новое подключение на каждое сообщение
Функция СоединениеОткрыть(ПараметрыСоединения, ДополнительныеПараметры) Экспорт
// Соединение = Обработки.НовыйВнешнийСервис.ОткрытьСоединение();
// Возврат Соединение;

// см. рдв_ИнтеграцияRMQ.ОтправитьСообщение
Процедура ОтправитьСообщение(ПараметрыСоединения, Соединение, Сообщение, РезультатОтправки, ДополнительныеПараметры) Экспорт
// Успех = Соединение.Отправить(Сообщение);
// РезультатОтправки.Статус = ?(Успех, "SUCCESS", "FAILURE");

// см. рдв_ИнтеграцияRMQ.ПолучитьСообщение
Функция ПолучитьСообщение(ПараметрыСоединения, Соединение, Сообщение, ОтветСервиса, ДополнительныеПараметры) Экспорт
// ДанныеСообщения = Соединение.Получить();
// Сообщение.ТекстСообщения = ДанныеСообщения.Сообщение;

// см. рдв_ИнтеграцияRMQ.ПодтвердитьПолучениеСообщения
Функция ПодтвердитьПолучениеСообщения(Соединение, ПараметрыСоединения, Сообщение, ДополнительныеПараметры) Экспорт
// Соединение.Подтвердить()

// см. рдв_ИнтеграцияRMQ.СоединениеЗакрыть
Функция СоединениеЗакрыть(Соединение) Экспорт
// Соединение.Закрыть();

// Переменная ДополнительныеПараметры в методах введена для передачи дополнительных наборов между методами. Позволяет прокидывать служебные значения из метода в метод.
```
	
- В `рдв_ИнтеграцияПереопределяемый.МодульИнтеграцииПоТипу` определить созданный общий модуль в зависимости от типа:
```
  Если ТипВнешнейСистемы = Перечисления.рдв_ТипыВнешнихСистем.НовыйМеханизм Тогда
			МодульИнтеграции = ОбщегоНазначения.ОбщийМодуль("рдв_ИнтеграцияНовыйМеханизмИнтеграции");
```
